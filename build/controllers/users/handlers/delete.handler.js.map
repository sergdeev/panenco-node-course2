{"version":3,"sources":["../../../../src/controllers/users/handlers/delete.handler.ts"],"sourcesContent":["import { RequestContext } from '@mikro-orm/core';\nimport { NotFound } from '@panenco/papi';\nimport { User } from '../../../entities/user.entity.js';\n\nexport const deleteUser = async (id: string) => {\n  const em = RequestContext.getEntityManager();\n  const user = em.findOne(User, {id});\n  if (!user) {\n    throw new NotFound('userNotFound', 'User not found');\n  }\n  await em.removeAndFlush(user);\n};\n"],"names":["RequestContext","NotFound","User","deleteUser","id","em","getEntityManager","user","findOne","removeAndFlush"],"mappings":"AAAA,SAASA,cAAc,QAAQ,kBAAkB;AACjD,SAASC,QAAQ,QAAQ,gBAAgB;AACzC,SAASC,IAAI,QAAQ,mCAAmC;AAExD,OAAO,MAAMC,aAAa,OAAOC;IAC/B,MAAMC,KAAKL,eAAeM,gBAAgB;IAC1C,MAAMC,OAAOF,GAAGG,OAAO,CAACN,MAAM;QAACE;IAAE;IACjC,IAAI,CAACG,MAAM;QACT,MAAM,IAAIN,SAAS,gBAAgB;IACrC;IACA,MAAMI,GAAGI,cAAc,CAACF;AAC1B,EAAE"}