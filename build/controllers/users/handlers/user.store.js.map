{"version":3,"sources":["../../../../src/controllers/users/handlers/user.store.ts"],"sourcesContent":["export type User = {\n  id: number;\n  name: string;\n  email: string;\n  password: string;\n};\n\nexport class UserStore {\n  static users: User[] = [];\n\n  static get(id: number): User | undefined {\n    return this.users.find((user) => user.id === id);\n  }\n\n  static getByEmail(email: string): User | undefined {\n    return this.users.find((user) => user.email === email);\n  }\n\n  static find(search?: string): User[] {\n    return this.users.filter(\n      (user) => !search || Object.values(user).some((value) => value?.toString().includes(search))\n    );\n  }\n\n  static add(user: Omit<User, 'id'>): User {\n    const u = { ...user, id: this.users.length };\n    this.users.push(u);\n    return u;\n  }\n\n  static update(id: number, input: User): User {\n    const current = this.get(id);\n    const user = { ...current, ...input };\n    this.users.splice(\n      this.users.findIndex((x) => x === current),\n      1,\n      user\n    );\n    return user;\n  }\n\n  static delete(id: number) {\n    this.users.splice(\n      this.users.findIndex((x) => x.id === id),\n      1\n    );\n  }\n}\n"],"names":["UserStore","users","get","id","find","user","getByEmail","email","search","filter","Object","values","some","value","toString","includes","add","u","length","push","update","input","current","splice","findIndex","x","delete"],"mappings":"AAOA,OAAO,MAAMA;IACX,OAAOC,QAAgB,EAAE,CAAC;IAE1B,OAAOC,IAAIC,EAAU,EAAoB;QACvC,OAAO,IAAI,CAACF,KAAK,CAACG,IAAI,CAAC,CAACC,OAASA,KAAKF,EAAE,KAAKA;IAC/C;IAEA,OAAOG,WAAWC,KAAa,EAAoB;QACjD,OAAO,IAAI,CAACN,KAAK,CAACG,IAAI,CAAC,CAACC,OAASA,KAAKE,KAAK,KAAKA;IAClD;IAEA,OAAOH,KAAKI,MAAe,EAAU;QACnC,OAAO,IAAI,CAACP,KAAK,CAACQ,MAAM,CACtB,CAACJ,OAAS,CAACG,UAAUE,OAAOC,MAAM,CAACN,MAAMO,IAAI,CAAC,CAACC,QAAUA,OAAOC,WAAWC,SAASP;IAExF;IAEA,OAAOQ,IAAIX,IAAsB,EAAQ;QACvC,MAAMY,IAAI;YAAE,GAAGZ,IAAI;YAAEF,IAAI,IAAI,CAACF,KAAK,CAACiB,MAAM;QAAC;QAC3C,IAAI,CAACjB,KAAK,CAACkB,IAAI,CAACF;QAChB,OAAOA;IACT;IAEA,OAAOG,OAAOjB,EAAU,EAAEkB,KAAW,EAAQ;QAC3C,MAAMC,UAAU,IAAI,CAACpB,GAAG,CAACC;QACzB,MAAME,OAAO;YAAE,GAAGiB,OAAO;YAAE,GAAGD,KAAK;QAAC;QACpC,IAAI,CAACpB,KAAK,CAACsB,MAAM,CACf,IAAI,CAACtB,KAAK,CAACuB,SAAS,CAAC,CAACC,IAAMA,MAAMH,UAClC,GACAjB;QAEF,OAAOA;IACT;IAEA,OAAOqB,OAAOvB,EAAU,EAAE;QACxB,IAAI,CAACF,KAAK,CAACsB,MAAM,CACf,IAAI,CAACtB,KAAK,CAACuB,SAAS,CAAC,CAACC,IAAMA,EAAEtB,EAAE,KAAKA,KACrC;IAEJ;AACF"}